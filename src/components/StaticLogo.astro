---
import { getLogoConfig } from "../lib/config-integration";

// ä»Strapiè·å–LOGOé…ç½®
const logoConfig = await getLogoConfig();

// è°ƒè¯•ä¿¡æ¯ï¼ˆä»…å¼€å‘ç¯å¢ƒä¸”éæ„å»ºæ¨¡å¼ï¼‰
if (import.meta.env.DEV && !import.meta.env.PROD) {
  console.log('ğŸ–¼ï¸ StaticLogo é…ç½®è°ƒè¯•:', logoConfig);
}
---

<div class="logo-container flex items-center space-x-2 group">
  {/* å¦‚æœæœ‰LOGOå›¾ç‰‡ï¼Œåªæ˜¾ç¤ºå›¾ç‰‡ */}
  {(logoConfig.light || logoConfig.dark) ? (
    <div class="logo-image-wrapper">
      {/* æµ…è‰²æ¨¡å¼LOGO */}
      {logoConfig.light && (
        <img
          src={logoConfig.light}
          alt={logoConfig.alt}
          class="logo-light h-8 w-auto object-contain logo-image"
          loading="eager"
          decoding="async"
        />
      )}

      {/* æ·±è‰²æ¨¡å¼LOGO */}
      {logoConfig.dark && (
        <img
          src={logoConfig.dark}
          alt={logoConfig.alt}
          class="logo-dark h-8 w-auto object-contain logo-image"
          loading="eager"
          decoding="async"
        />
      )}
    </div>
  ) : (
    /* åªæœ‰åœ¨æ²¡æœ‰LOGOå›¾ç‰‡æ—¶æ‰æ˜¾ç¤ºæ–‡å­—æ ‡é¢˜ */
    <span class="text-xl font-bold text-gray-900 dark:text-white group-hover:text-primary transition-colors">
      {logoConfig.fallbackText}
    </span>
  )}
</div>

<style>
  .logo-container {
    max-height: 2rem;
    display: flex;
    align-items: center;
  }

  .logo-image-wrapper img {
    max-height: 2rem;
    width: auto;
    object-fit: contain;
  }

  /* ä¸»é¢˜åˆ‡æ¢æ ·å¼ */
  .logo-light {
    display: block;
  }

  .dark .logo-light {
    display: none;
  }

  .logo-dark {
    display: none;
  }

  .dark .logo-dark {
    display: block;
  }

  /* å›¾ç‰‡ç‰¹æ•ˆ - æ‚¬åœæ—¶çš„3Dæ—‹è½¬å’Œç¼©æ”¾æ•ˆæœ */
  .logo-image {
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    transform-origin: center;
    filter: brightness(1) contrast(1);
  }

  .logo-container:hover .logo-image {
    transform: scale(1.08) rotateY(5deg) rotateX(2deg);
    filter: brightness(1.1) contrast(1.05);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  }

  /* æ·»åŠ 3Dé€è§†æ•ˆæœ */
  .logo-image-wrapper {
    perspective: 1000px;
    transform-style: preserve-3d;
  }
</style>
