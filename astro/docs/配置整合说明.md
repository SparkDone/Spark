# ğŸ”§ é…ç½®æ•´åˆè¯´æ˜

## ğŸ“‹ **æ¦‚è¿°**

æœ¬ç³»ç»Ÿå®ç°äº† `config.ts` é™æ€é…ç½®ä¸ Strapi `Index Settings` åŠ¨æ€é…ç½®çš„æ™ºèƒ½æ•´åˆï¼Œè®©ä½ å¯ä»¥ï¼š

1. **åœ¨ Strapi åå°åŠ¨æ€ä¿®æ”¹**ç½‘ç«™é…ç½®ï¼ˆæ¨èï¼‰
2. **åœ¨ config.ts ä¸­è®¾ç½®é»˜è®¤å€¼**ä½œä¸ºå¤‡ç”¨
3. **è‡ªåŠ¨ä¼˜å…ˆçº§å¤„ç†**ï¼šStrapi è®¾ç½® > config.ts é»˜è®¤å€¼

## ğŸ¯ **é…ç½®ä¼˜å…ˆçº§**

```
Strapi Index Settingsï¼ˆåŠ¨æ€ï¼Œä¼˜å…ˆçº§æœ€é«˜ï¼‰
    â†“ å¦‚æœè·å–å¤±è´¥æˆ–æœªè®¾ç½®
config.tsï¼ˆé™æ€ï¼Œä½œä¸ºå¤‡ç”¨ï¼‰
    â†“ å¦‚æœéƒ½æ²¡æœ‰
ç³»ç»Ÿé»˜è®¤å€¼
```

## ğŸ“Š **é…ç½®å¯¹åº”å…³ç³»**

### **1. ç½‘ç«™åŸºæœ¬ä¿¡æ¯**

| é…ç½®é¡¹ | Strapi å­—æ®µ | config.ts å­—æ®µ | è¯´æ˜ |
|--------|-------------|----------------|------|
| ç½‘ç«™æ ‡é¢˜ | `site_title` | `siteConfig.title` | æ˜¾ç¤ºåœ¨æµè§ˆå™¨æ ‡é¢˜æ  |
| ç½‘ç«™å‰¯æ ‡é¢˜ | `site_subtitle` | `siteConfig.subtitle` | æ˜¾ç¤ºåœ¨é¦–é¡µ |
| ç½‘ç«™æè¿° | `site_description` | - | SEOæè¿° |
| ç½‘ç«™è¯­è¨€ | - | `siteConfig.lang` | å›ºå®šä¸º zh_CN |
| ä¸»é¢˜è‰²è°ƒ | - | `siteConfig.themeColor.hue` | 0-360 |

### **2. LOGOé…ç½®**

| é…ç½®é¡¹ | Strapi å­—æ®µ | config.ts å­—æ®µ | è¯´æ˜ |
|--------|-------------|----------------|------|
| æµ…è‰²æ¨¡å¼LOGO | `logo_light` | - | æµ…è‰²ä¸»é¢˜ä¸‹æ˜¾ç¤º |
| æ·±è‰²æ¨¡å¼LOGO | `logo_dark` | - | æ·±è‰²ä¸»é¢˜ä¸‹æ˜¾ç¤º |
| LOGOå¤‡ç”¨æ–‡å­— | - | `siteConfig.title` | å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶æ˜¾ç¤º |

### **3. å¸ƒå±€é…ç½®**

| é…ç½®é¡¹ | Strapi å­—æ®µ | config.ts å­—æ®µ | è¯´æ˜ |
|--------|-------------|----------------|------|
| é¦–é¡µå¸ƒå±€ | `default_homepage_layout` | - | grid/masonry/list |
| æ˜¾ç¤ºä½œè€…åŒºåŸŸ | `show_author_section` | - | æ˜¯å¦æ˜¾ç¤ºä¾§è¾¹æ ä½œè€…ä¿¡æ¯ |

## ğŸ”§ **å¦‚ä½•é…ç½®**

### **æ–¹æ³•1ï¼šStrapi åå°é…ç½®ï¼ˆæ¨èï¼‰**

1. è®¿é—® Strapi åå°ï¼š`http://localhost:1337/admin`
2. è¿›å…¥ `Content Manager` â†’ `Index`
3. ç¼–è¾‘æˆ–åˆ›å»º Index æ¡ç›®
4. é…ç½®ä»¥ä¸‹å­—æ®µï¼š
   - **Site Title**: ç½‘ç«™æ ‡é¢˜
   - **Site Subtitle**: ç½‘ç«™å‰¯æ ‡é¢˜  
   - **Site Description**: ç½‘ç«™æè¿°
   - **Logo Light**: æµ…è‰²æ¨¡å¼LOGOå›¾ç‰‡
   - **Logo Dark**: æ·±è‰²æ¨¡å¼LOGOå›¾ç‰‡
   - **Default Homepage Layout**: é¦–é¡µå¸ƒå±€
   - **Show Author Section**: æ˜¯å¦æ˜¾ç¤ºä½œè€…åŒºåŸŸ

### **æ–¹æ³•2ï¼šconfig.ts é™æ€é…ç½®ï¼ˆå¤‡ç”¨ï¼‰**

ç¼–è¾‘ `astro/src/config.ts`ï¼š

```typescript
export const siteConfig: SiteConfig = {
  title: "ä½ çš„ç½‘ç«™æ ‡é¢˜",           // é»˜è®¤æ ‡é¢˜
  subtitle: "ä½ çš„ç½‘ç«™å‰¯æ ‡é¢˜",       // é»˜è®¤å‰¯æ ‡é¢˜
  lang: "zh_CN",                  // ç½‘ç«™è¯­è¨€
  themeColor: {
    hue: 260,                     // ä¸»é¢˜è‰²è°ƒ 0-360
    fixed: false,                 // æ˜¯å¦å…è®¸ç”¨æˆ·è‡ªå®šä¹‰ä¸»é¢˜è‰²
  },
};
```

## ğŸš€ **ä½¿ç”¨æ–¹æ³•**

### **åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æ•´åˆé…ç½®**

```typescript
// è·å–å®Œæ•´é…ç½®
import { getIntegratedConfig } from "../lib/config-integration";
const config = await getIntegratedConfig();

// è·å–ç‰¹å®šé…ç½®
import { getSiteConfig, getLogoConfig, getLayoutConfig } from "../lib/config-integration";

// ç½‘ç«™åŸºæœ¬ä¿¡æ¯
const siteConfig = await getSiteConfig();
console.log(siteConfig.title); // ä¼˜å…ˆä½¿ç”¨Strapiè®¾ç½®

// LOGOé…ç½®
const logoConfig = await getLogoConfig();
console.log(logoConfig.light); // Strapi LOGO URL

// å¸ƒå±€é…ç½®
const layoutConfig = await getLayoutConfig();
console.log(layoutConfig.defaultHomepageLayout); // grid/masonry/list
```

### **ç¼“å­˜æœºåˆ¶**

ç³»ç»Ÿè‡ªåŠ¨ç¼“å­˜é…ç½®5åˆ†é’Ÿï¼Œæé«˜æ€§èƒ½ï¼š

```typescript
// è·å–ç¼“å­˜é…ç½®ï¼ˆæ¨èï¼‰
import { getCachedConfig } from "../lib/config-integration";
const config = await getCachedConfig();

// æ¸…é™¤ç¼“å­˜ï¼ˆå¦‚éœ€è¦ï¼‰
import { clearConfigCache } from "../lib/config-integration";
clearConfigCache();
```

## ğŸ¨ **LOGOé…ç½®è¯¦è§£**

### **LOGOæ˜¾ç¤ºé€»è¾‘**

1. **æœ‰Strapi LOGO**ï¼šæ˜¾ç¤ºå›¾ç‰‡ + æ–‡å­—æ ‡é¢˜
2. **æ— Strapi LOGO**ï¼šåªæ˜¾ç¤ºæ–‡å­—æ ‡é¢˜
3. **å›¾ç‰‡åŠ è½½å¤±è´¥**ï¼šè‡ªåŠ¨å›é€€åˆ°æ–‡å­—æ ‡é¢˜

### **ä¸»é¢˜åˆ‡æ¢æ”¯æŒ**

- **æµ…è‰²æ¨¡å¼**ï¼šæ˜¾ç¤º `logo_light`
- **æ·±è‰²æ¨¡å¼**ï¼šæ˜¾ç¤º `logo_dark`
- **å•ä¸€LOGO**ï¼šä¸¤ç§æ¨¡å¼éƒ½æ˜¾ç¤ºåŒä¸€å¼ å›¾ç‰‡

### **LOGOè·¯å¾„å¤„ç†**

```typescript
// Strapi LOGOè‡ªåŠ¨æ·»åŠ åŸŸåå‰ç¼€ï¼ˆä½¿ç”¨ç¯å¢ƒå˜é‡ï¼‰
const strapiUrl = import.meta.env.STRAPI_PUBLIC_URL || import.meta.env.STRAPI_URL;
const logoUrl = `${strapiUrl}${strapiLogo.url}`;

// æ”¯æŒç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„ï¼ˆä½¿ç”¨ç¯å¢ƒå˜é‡ï¼‰
const logoConfig = {
  light: `${strapiUrl}/uploads/logo-light.png`,
  dark: `${strapiUrl}/uploads/logo-dark.png`,
  alt: "ç½‘ç«™LOGO",
  fallbackText: "ç½‘ç«™æ ‡é¢˜"
};
```

## ğŸ” **è°ƒè¯•å’Œæ•…éšœæ’é™¤**

### **æ£€æŸ¥é…ç½®åŠ è½½**

åœ¨æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹ï¼š

```javascript
// å¼€å‘ç¯å¢ƒä¼šæ˜¾ç¤ºé…ç½®åŠ è½½ä¿¡æ¯
console.log('ğŸ”§ é…ç½®åŠ è½½çŠ¶æ€:', {
  strapiAvailable: true/false,
  logoConfig: {...},
  siteConfig: {...}
});
```

### **å¸¸è§é—®é¢˜**

1. **LOGOä¸æ˜¾ç¤º**ï¼š
   - æ£€æŸ¥Strapiä¸­æ˜¯å¦ä¸Šä¼ äº†LOGOå›¾ç‰‡
   - ç¡®è®¤å›¾ç‰‡URLæ˜¯å¦æ­£ç¡®
   - æŸ¥çœ‹æµè§ˆå™¨ç½‘ç»œé¢æ¿æ˜¯å¦æœ‰404é”™è¯¯

2. **é…ç½®ä¸ç”Ÿæ•ˆ**ï¼š
   - æ¸…é™¤é…ç½®ç¼“å­˜ï¼š`clearConfigCache()`
   - æ£€æŸ¥StrapiæœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
   - ç¡®è®¤Index Settingsæ˜¯å¦å·²å‘å¸ƒ

3. **æ€§èƒ½é—®é¢˜**ï¼š
   - é…ç½®ä¼šè‡ªåŠ¨ç¼“å­˜5åˆ†é’Ÿ
   - é¿å…é¢‘ç¹è°ƒç”¨é…ç½®å‡½æ•°
   - ä½¿ç”¨ `getCachedConfig()` è·å–ç¼“å­˜é…ç½®

## ğŸ“ **æœ€ä½³å®è·µ**

1. **ä¼˜å…ˆä½¿ç”¨Strapié…ç½®**ï¼šä¾¿äºåŠ¨æ€ä¿®æ”¹ï¼Œæ— éœ€é‡æ–°éƒ¨ç½²
2. **config.tsä½œä¸ºå¤‡ç”¨**ï¼šç¡®ä¿åœ¨Strapiä¸å¯ç”¨æ—¶ç½‘ç«™ä»èƒ½æ­£å¸¸è¿è¡Œ
3. **åˆç†ä½¿ç”¨ç¼“å­˜**ï¼šé¿å…é¢‘ç¹çš„APIè°ƒç”¨
4. **å›¾ç‰‡ä¼˜åŒ–**ï¼šLOGOå›¾ç‰‡å»ºè®®ä½¿ç”¨PNGæ ¼å¼ï¼Œå¤§å°æ§åˆ¶åœ¨100KBä»¥å†…
5. **æµ‹è¯•å›é€€æœºåˆ¶**ï¼šç¡®ä¿åœ¨å„ç§æƒ…å†µä¸‹ç½‘ç«™éƒ½èƒ½æ­£å¸¸æ˜¾ç¤º

## ğŸ‰ **æ€»ç»“**

é€šè¿‡é…ç½®æ•´åˆç³»ç»Ÿï¼Œä½ å¯ä»¥ï¼š

- âœ… **çµæ´»é…ç½®**ï¼šStrapiåå°åŠ¨æ€ä¿®æ”¹ + config.tsé™æ€å¤‡ç”¨
- âœ… **æ™ºèƒ½å›é€€**ï¼šè‡ªåŠ¨å¤„ç†é…ç½®è·å–å¤±è´¥çš„æƒ…å†µ
- âœ… **æ€§èƒ½ä¼˜åŒ–**ï¼šè‡ªåŠ¨ç¼“å­˜æœºåˆ¶ï¼Œå‡å°‘APIè°ƒç”¨
- âœ… **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„TypeScriptç±»å‹æ”¯æŒ
- âœ… **æ˜“äºç»´æŠ¤**ï¼šæ¸…æ™°çš„é…ç½®ä¼˜å…ˆçº§å’Œä½¿ç”¨æ–¹æ³•
